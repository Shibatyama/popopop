<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>æ˜Ÿåº§å ã„ï½œä»Šæ—¥ã®é‹å‹¢</title>
  <style>
    body {
      font-family: sans-serif;
      background: linear-gradient(135deg, #84fab0, #8fd3f4);
      text-align: center;
      padding-top: 50px;
    }

    .card {
      background: white;
      width: 320px;
      margin: auto;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    h1 {
      margin-bottom: 15px;
    }

    input {
      padding: 8px;
      font-size: 16px;
      width: 80%;
    }

    button {
      margin-top: 15px;
      padding: 10px 20px;
      font-size: 16px;
      background: #4caf50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    button:disabled {
      background: gray;
    }

    .result {
      margin-top: 20px;
    }

    .fortune {
      font-size: 28px;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

  <div class="card">
    <h1>ğŸŒŸ æ˜Ÿåº§å ã„</h1>
    <p>èª•ç”Ÿæ—¥ã‚’å…¥åŠ›ã—ã¦ã­</p>
    <input type="date" id="birthday">
    <br>
    <button id="btn" onclick="drawFortune()">å ã†</button>

    <div class="result" id="result"></div>
  </div>

  <script>
    const fortunes = {
      "ç‰¡ç¾Šåº§": ["å‹¢ã„ã®ã‚ã‚‹ä¸€æ—¥ï¼æŒ‘æˆ¦ãŒå‰ã€‚", "ğŸ”¥ èµ¤ã„ã‚‚ã®"],
      "ç‰¡ç‰›åº§": ["å®‰å®šãŒã‚«ã‚®ã€‚ç„¡ç†ã—ãªã„ã§ã€‚", "ğŸ° ç”˜ã„ã‚‚ã®"],
      "åŒå­åº§": ["ä¼šè©±ãŒé‹ã‚’é‹ã¶æ—¥ã€‚", "ğŸ“± ã‚¹ãƒãƒ›"],
      "èŸ¹åº§": ["èº«è¿‘ãªäººã‚’å¤§åˆ‡ã«ã€‚", "ğŸ  å®¶ã®éµ"],
      "ç…å­åº§": ["ä¸»å½¹ã«ãªã‚Œã‚‹æ—¥ï¼è‡ªä¿¡ã‚’æŒã£ã¦ã€‚", "ğŸ¦ ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼"],
      "ä¹™å¥³åº§": ["æ•´ç†æ•´é “ã§é‹æ°—UPã€‚", "ğŸ“˜ æ‰‹å¸³"],
      "å¤©ç§¤åº§": ["ãƒãƒ©ãƒ³ã‚¹æ„Ÿè¦šãŒå¤§äº‹ã€‚", "âš–ï¸ æ™‚è¨ˆ"],
      "è åº§": ["é›†ä¸­åŠ›ãŒæœ€å¼·ã€‚ã‚„ã‚Šåˆ‡ã‚ã†ã€‚", "ğŸ–Šï¸ ãƒšãƒ³"],
      "å°„æ‰‹åº§": ["æ–°ã—ã„æŒ‘æˆ¦ãŒâ—ã€‚", "ğŸ’ ãƒãƒƒã‚°"],
      "å±±ç¾Šåº§": ["åŠªåŠ›ãŒå ±ã‚ã‚Œã‚‹æ—¥ã€‚", "ğŸ“Š ãƒãƒ¼ãƒˆ"],
      "æ°´ç“¶åº§": ["ã‚¢ã‚¤ãƒ‡ã‚¢ãŒå…‰ã‚‹ã€‚", "ğŸ’¡ ãƒ¡ãƒ¢"],
      "é­šåº§": ["ç›´æ„Ÿã‚’ä¿¡ã˜ã¦OKã€‚", "ğŸ§ ã‚¤ãƒ¤ãƒ›ãƒ³"]
    };

    const btn = document.getElementById("btn");
    const resultDiv = document.getElementById("result");

    const today = new Date().toDateString();
    const saved = localStorage.getItem("zodiacFortune");

    if (saved) {
      const data = JSON.parse(saved);
      if (data.date === today) {
        showResult(data.sign, data.message, data.item);
        btn.disabled = true;
        btn.textContent = "ä»Šæ—¥ã¯ã‚‚ã†å ã„ã¾ã—ãŸ";
      }
    }

    function drawFortune() {
      const birthday = document.getElementById("birthday").value;
      if (!birthday) {
        alert("èª•ç”Ÿæ—¥ã‚’å…¥åŠ›ã—ã¦ã­ï¼");
        return;
      }

      const sign = getZodiac(new Date(birthday));
      const fortune = fortunes[sign];

      const data = {
        date: today,
        sign: sign,
        message: fortune[0],
        item: fortune[1]
      };

      localStorage.setItem("zodiacFortune", JSON.stringify(data));
      showResult(sign, fortune[0], fortune[1]);

      btn.disabled = true;
      btn.textContent = "ä»Šæ—¥ã¯ã‚‚ã†å ã„ã¾ã—ãŸ";
    }

    function showResult(sign, message, item) {
      resultDiv.innerHTML = `
        <div class="fortune">${sign}</div>
        <p>${message}</p>
        <p>ğŸ ãƒ©ãƒƒã‚­ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ ï¼š${item}</p>
      `;
    }

    function getZodiac(date) {
      const m = date.getMonth() + 1;
      const d = date.getDate();

      if ((m === 3 && d >= 21) || (m === 4 && d <= 19)) return "ç‰¡ç¾Šåº§";
      if ((m === 4 && d >= 20) || (m === 5 && d <= 20)) return "ç‰¡ç‰›åº§";
      if ((m === 5 && d >= 21) || (m === 6 && d <= 21)) return "åŒå­åº§";
      if ((m === 6 && d >= 22) || (m === 7 && d <= 22)) return "èŸ¹åº§";
      if ((m === 7 && d >= 23) || (m === 8 && d <= 22)) return "ç…å­åº§";
      if ((m === 8 && d >= 23) || (m === 9 && d <= 22)) return "ä¹™å¥³åº§";
      if ((m === 9 && d >= 23) || (m === 10 && d <= 23)) return "å¤©ç§¤åº§";
      if ((m === 10 && d >= 24) || (m === 11 && d <= 22)) return "è åº§";
      if ((m === 11 && d >= 23) || (m === 12 && d <= 21)) return "å°„æ‰‹åº§";
      if ((m === 12 && d >= 22) || (m === 1 && d <= 19)) return "å±±ç¾Šåº§";
      if ((m === 1 && d >= 20) || (m === 2 && d <= 18)) return "æ°´ç“¶åº§";
      return "é­šåº§";
    }
  </script>

</body>
</html>
